DATA ONE;

INFILE 'D:\~\~\DATA\~survey_final June 20 2009 thru September 30 2009b.txt'; *Oct 8, 2009;

LENGTH 
V0 $50	V1 $50	V2 $50	V3 $50	V4 $50	V5 $50	V6 $50	V7 $50	V8 $50	V9 $50
V10 $50	V11 $50	V12 $50	V13 $90	V14 $50	V15 $50	V16 $50	V17 $50	V18 $50	V19 $50
V20 $50	V21 $50	V22 $50	V23 $50	V24 $50	V25 $50	V26 $99	V27 $50	V28 $50	V29 $50
V30 $50	V31 $50	V32 $50	V33 $50	V34 $50	V35 $50	V36 $50	V37 $50	V38 $50	V39 $50
V40 $50	V41 $50	V42 $50	V43 $50	V44 $50	V45 $50	V46 $50	V47 $50	V48 $50	V49 $50
V50 $50	V51 $50	V52 $50	V53 $50	V54 $50	V55 $50	V56 $50	V57 $50	V58 $50	V59 $50
V60 $50	V61 $50	V62 $50	V63 $50	V64 $50	V65 $50	V66 $50	V67 $50	V68 $50	V69 $50
V70 $50	V71 $50	V72 $50	V73 $50	V74 $50	V75 $50	V76 $50	V77 $50	V78 $50	V79 $50	
V80 $50	V81 $50	V82 $50	V83 $50	V84 $50	V85 $50	V86 $50	V87 $50	V88 $50	V89 $50	
V90 $50	V91 $50	V92 $50	V93 $50	V94 $50	V95 $50	V96 $50	V97 $50	V98 $50	V99 $50	
V100 $50	V101 $50	V102 $50	V103 $50	V104 $50	V105 $50    V106 $50	V107 $50	V108 $50	V109 $50
V110 $50	V111 $50	V112 $50	V113 $50	V114 $50	V115 $50	V116 $50	V117 $50	V118 $50	V119 $50
V120 $50	V121 $50	V122 $50	V123 $50	V124 $50	V125 $50	V126 $50	V127 $50	V128 $50	V129 $50
V130 $50	V131 $50	V132 $50	V133 $50	V134 $50	V135 $50	V136 $50	V137 $50	V138 $50	V139 $50
V140 $50	V141 $50	V142 $50	V143 $50	V144 $50	V145 $50	V146 $50	V147 $50	V148 $50	V149 $50
V150 $50	V151 $50	V152 $50	V153 $50	V154 $50	V155 $50	V156 $50	V157 $50	V158 $50	V159 $50
V160 $50	V161 $50	V162 $50	V163 $50	V164 $50	V165 $50	V166 $50	V167 $50	V168 $50	V169 $50
V170 $50	V171 $50	V172 $90	V173 $50	V174 $50	V175 $50	V176 $50	V177 $80	V178 $50	V179 $50
;

INPUT 
V0=$	V1=$	V2=$	V3=$	V4=$	V5=$	V6=$	V7=$	V8=$	V9=$
V10=$	V11=$	V12=$	V13=$	V14=$	V15=$	V16=$	V17=$	V18=$	V19=$
V20=$	V21=$	V22=$	V23=$	V24=$	V25=$	V26=$	V27=$	V28=$	V29=$
V30=$	V31=$	V32=$	V33=$	V34=$	V35=$	V36=$	V37=$	V38=$	V39=$
V40=$	V41=$	V42=$	V43=$	V44=$	V45=$	V46=$	V47=$	V48=$	V49=$
V50=$	V51=$	V52=$	V53=$	V54=$	V55=$	V56=$	V57=$	V58=$	V59=$
V60=$	V61=$	V62=$	V63=$	V64=$	V65=$	V66=$	V67=$	V68=$	V69=$
V70=$	V71=$	V72=$	V73=$	V74=$	V75=$	V76=$	V77=$	V78=$	V79=$	
V80=$	V81=$	V82=$	V83=$	V84=$	V85=$	V86=$	V87=$	V88=$	V89=$	
V90=$	V91=$	V92=$	V93=$	V94=$	V95=$	V96=$	V97=$	V98=$	V99=$	
V100=$	V101=$	V102=$	V103=$	V104=$	V105=$  V106=$	V107=$	V108=$	V109=$
V110=$	V111=$	V112=$	V113=$	V114=$	V115=$	V116=$	V117=$	V118=$	V119=$
V120=$	V121=$	V122=$	V123=$	V124=$	V125=$	V126=$	V127=$	V128=$	V129=$
V130=$	V131=$	V132=$	V133=$	V134=$	V135=$	V136=$	V137=$	V138=$	V139=$
V140=$	V141=$	V142=$	V143=$	V144=$	V145=$	V146=$	V147=$	V148=$	V149=$
V150=$	V151=$	V152=$	V153=$	V154=$	V155=$	V156=$	V157=$	V158=$	V159=$
V160=$	V161=$	V162=$	V163=$	V164=$	V165=$	V166=$	V167=$	V168=$	V169=$
V170=$	V171=$	V172=$	V173=$	V174=$	V175=$	V176=$	V177=$	V178=$	V179=$
;


PROC PRINT DATA=ONE; VAR V0 V1 	V2 	V3 	V4 	V5 	V6 	V7 	V8 	V9 V10; RUN;

PROC PRINT DATA=ONE; VAR V4   V8  V10     V9      V11     V13     V6      V7   V15 ; RUN;
options pageno=1;
PROC freq DATA=ONE;   RUN;
/*

DATA DV4147;
MERGE  V4  V147;
RUN;

PROC PRINT DATA=DV4147;
RUN;

%let x=1;
%let y=2;

DATA V147;
SET ONE;
*V4 = LAG3(V4);
IF V147 = ' '  THEN DELETE;
KEEP  V147  ;
RUN;

PROC PRINT DATA=V147; RUN;

DATA V4;
SET ONE;
IF V4 = ' ' THEN DELETE;
KEEP V4 ;
RUN;

PROC PRINT DATA=V4; RUN;



DATA V26;
SET ONE;
V4 = LAG(V4);
IF V26 = ' '  THEN DELETE;
KEEP V4  V26  ;
RUN;

PROC PRINT DATA=V26; RUN;


DATA V8;
SET ONE;
V4 = LAG2(V4);
IF V8 = ' '  THEN DELETE;
KEEP V4  V8  ;
RUN;

PROC PRINT DATA=V8; RUN;

DATA V10;
SET ONE;
*V4 = LAG3(V4);
IF V10 = ' '  THEN DELETE;
KEEP V4  V10  ;
RUN;

PROC PRINT DATA=V10; RUN;

DATA V9;
SET ONE;
V4 = LAG3(V4);
IF V9 = ' '  THEN DELETE;
if v4 =' ' then v4 = '5081';
KEEP V4  V9   ;
RUN;

PROC PRINT DATA=V9; RUN;

DATA V11;
SET ONE;
V4 = LAG4(V4);
IF V11 = ' '  THEN DELETE;
if v4 =' ' then v4 = '5081';
KEEP V4  V11   ;
RUN;

PROC PRINT DATA=V11; RUN;


DATA V13;
SET ONE;
V4 = LAG5(V4);
IF V13 = ' '  THEN DELETE;
if v4 =' ' then v4 = '5081';
KEEP V4  V13   ;
RUN;

PROC PRINT DATA=V13; RUN;


DATA V6;
SET ONE;
V4 = LAG6(V4);
IF V6 = ' '  THEN DELETE;
if v4 =' ' then v4 = '5081';
KEEP V4  V6   ;
RUN;

PROC PRINT DATA=V6; RUN;


DATA V7;
SET ONE;
V4 = LAG7(V4);
IF V7 = ' '  THEN DELETE;
if v4 =' ' then v4 = '5081';
KEEP V4  V7   ;
RUN;

PROC PRINT DATA=V7; RUN;


DATA V15;
SET ONE;
V4 = LAG8(V4);
IF V15 = ' '  THEN DELETE;
if v4 =' ' then v4 = '5081';
KEEP V4  V15   ;
RUN;

PROC PRINT DATA=V15; RUN;


DATA V16;
SET ONE;
V4 = LAG9(V4);
IF V16 = ' '  THEN DELETE;
if v4 =' ' then v4 = '5081';
KEEP V4  V16   ;
RUN;

PROC PRINT DATA=V16; RUN;


*if v4=' ' and v18='2' then v4='1183';
*if v4=' ' and v18='1' then v4='6160';


DATA V1910;
SET ONE;
V4 = LAG10(V4);
IF V19 = ' '  THEN DELETE;

KEEP V4  V19   ;
RUN;

PROC PRINT DATA=V1910; RUN;

DATA V1911;
SET ONE;
V4 = LAG11(V4);
IF V19 = ' '  THEN DELETE;

KEEP V4  V19   ;
RUN;

PROC PRINT DATA=V1911; RUN;

proc sort data=v1910; by v4; run;
proc sort data=v1911; by v4; run;

data v19;
merge v1910 v1911;
by v4;
if v4=' ' then delete;
run;

PROC PRINT DATA=v19;
var v4 v19;
RUN;


DATA V2011;
SET ONE;

V4 = LAG11(V4);
IF V20 = ' '  THEN DELETE;

KEEP V4  V20   ;
RUN;

PROC PRINT DATA=V2011; RUN;

DATA V2012;
SET ONE;
V4 = LAG12(V4);

IF V20 = ' '  THEN DELETE;

KEEP V4  V20   ;
RUN;

PROC PRINT DATA=V2012; RUN;

proc sort data=v2012; by v4; run;
proc sort data=v2011; by v4; run;

data v20;
merge v2011 v2012;
by v4;
if v4=' ' then delete;
run;

PROC PRINT DATA=v20;
var v4 v20;
RUN;

*No value for v21;

DATA V2212;
SET ONE;
V4 = LAG12(V4);
*V4 = LAG11(V4);
IF V22 = ' '  THEN DELETE;

KEEP V4  V22   ;
RUN;

PROC PRINT DATA=V2212; RUN;

DATA V2213;
SET ONE;
V4 = LAG13(V4);
*V4 = LAG11(V4);
IF V22 = ' '  THEN DELETE;

KEEP V4  V22   ;
RUN;

PROC PRINT DATA=V2213; RUN;


proc sort data=v2212; by v4; run;
proc sort data=v2213; by v4; run;

data v22;
merge v2212 v2213;
by v4;
if v4=' ' then delete;
run;

PROC PRINT DATA=v22;
var v4 v22;
RUN;


DATA V2412;
SET ONE;
V4 = LAG12(V4);
*V4 = LAG11(V4);
IF V24 = ' '  THEN DELETE;

KEEP V4  V24   ;
RUN;

PROC PRINT DATA=V2412; RUN;

DATA V2413;
SET ONE;
V4 = LAG13(V4);
*V4 = LAG11(V4);
IF V24 = ' '  THEN DELETE;

KEEP V4  V24   ;
RUN;

PROC PRINT DATA=V2413; RUN;


proc sort data=v2412; by v4; run;
proc sort data=v2413; by v4; run;

data v24;
merge v2412 v2413;
by v4;
if v4=' ' then delete;
run;

PROC PRINT DATA=v24;
var v4 v24;
RUN;



/*
PROC PRINT DATA=one;
var v4 v23;
RUN;

PROC freq DATA=one;
table v23;
RUN;


DATA V2312;
SET ONE;
V4 = LAG12(V4);
*V4 = LAG11(V4);
IF V23 = ' '  THEN DELETE;

KEEP V4  V23   ;
RUN;

PROC PRINT DATA=V2312; RUN;

DATA V2313;
SET ONE;
V4 = LAG13(V4);
*V4 = LAG11(V4);
IF V23 = ' '  THEN DELETE;

KEEP V4  V23   ;
RUN;

PROC PRINT DATA=V2313; RUN;

DATA V2314;
SET ONE;
V4 = LAG14(V4);
*V4 = LAG11(V4);
IF V23 = ' '  THEN DELETE;

KEEP V4  V23   ;
RUN;

PROC PRINT DATA=V2314; RUN;


proc sort data=v2312; by v4; run;
proc sort data=v2313; by v4; run;
proc sort data=v2314; by v4; run;


data v23;
merge v2312 v2313 v2314;
by v4;
if v4=' ' then delete;
run;

PROC PRINT DATA=v23;
var v4 v23;
RUN;
















%let x=20;
%let y=12;

DATA V&x;
SET ONE;
V4 = LAG&y(V4);
IF V&x = ' '  THEN DELETE;
*if v4=' ' and v18='2' then v4='1183';
*if v4=' ' and v18='1' then v4='6160';
KEEP V4  V&x  ;
RUN;

PROC PRINT DATA=V&x; RUN;



/*




PROC PRINT DATA=one;
var v4 v18;
RUN;

DATA V18;
SET ONE;
V4 = LAG10(V4);
IF V18 = ' '  THEN DELETE;
*if v4 =' ' then v4 = '5081';
KEEP V4  V18   ;
RUN;

PROC PRINT DATA=V18; RUN;
*/





*/
/* */
;
%MACRO DAT(DSN, VAR);
DATA &VAR;
SET ONE;

IF &VAR = ' '   THEN DELETE;

KEEP &VAR ;
RUN;

PROC PRINT DATA=&VAR; RUN;
%MEND DAT;


%DAT(V0, V0)
%DAT(V4, V4)
%DAT(V26, V26)
%DAT(V11, V11)
%DAT(V13, V13)
%DAT(V6, V6)
%DAT(V7, V7)
%DAT(V15, V15)
%DAT(V8, V8)
%DAT(V10, V10)
%DAT(V78, V78)
%DAT(V121, V121)
%DAT(V80, V80)
%DAT(V81, V81)
%DAT(V82, V82)
%DAT(V83, V83)
%DAT(V122, V122)
%DAT(V123, V123)
%DAT(V125, V125)
%DAT(V123, V123)
%DAT(V125, V125)
%DAT(V127, V127)
%DAT(V128, V128)
%DAT(V134, V134)
%DAT(V135, V135)
%DAT(V137, V137)
%DAT(V138, V138)
%DAT(V141, V141)
%DAT(V145, V145)
%DAT(V146, V146)
%DAT(V147, V147)
%DAT(V149, V149)
%DAT(V148, V148)
%DAT(V163, V163)
%DAT(V151, V151)
%DAT(V152, V152)
%DAT(V155, V155)
%DAT(V156, V156)
%DAT(V157, V157)
%DAT(V84, V84)
%DAT(V85, V85)
%DAT(V86, V86)
%DAT(V87, V87)
%DAT(V90, V90)
%DAT(V91, V91)
%DAT(V90, V90)
%DAT(V91, V91)
%DAT(V92, V92)
%DAT(V93, V93)
%DAT(V94, V94)
%DAT(V95, V95)
%DAT(V96, V96)
%DAT(V97, V97)
%DAT(V98, V98)
%DAT(V99, V99)
%DAT(V100, V100)
%DAT(V101, V101)
%DAT(V102, V102)
%DAT(V103, V103)
%DAT(V104, V104)
%DAT(V106, V106)
%DAT(V107, V107)
%DAT(V109, V109)
%DAT(V100, V100)
%DAT(V110, V110)
%DAT(V177, V177)
%DAT(V111, V111)
%DAT(V112, V112)
%DAT(V113, V113)
%DAT(V114, V114)
%DAT(V117, V117)


DATA ALL;
MERGE V0 V4 V26 V8 V177 V147 v10;
RUN;

PROC PRINT DATA=ALL;
RUN;

PROC FREQ DATA=ALL; RUN;

/*
%m
%m;
*/;



DATA ALL;
MERGE
V0 	V1 	V2 	V3 	V4 	V5 	V6 	V7 	V8 	V9 
V10 	V11 	V12 	V13 	V14 	V15 	V16 	V17 	V18 	V19 
V20 	V21 	V22 	V23 	V24 	V25 	V26 	V27 	V28 	V29 
V30 	V31 	V32 	V33 	V34 	V35 	V36 	V37 	V38 	V39 
V40 	V41 	V42 	V43 	V44 	V45 	V46 	V47 	V48 	V49 
V50 	V51 	V52 	V53 	V54 	V55 	V56 	V57 	V58 	V59 
V60 	V61 	V62 	V63 	V64 	V65 	V66 	V67 	V68 	V69 
V70 	V71 	V72 	V73 	V74 	V75 	V76 	V77 	V78 	V79 	
V80 	V81 	V82 	V83 	V84 	V85 	V86 	V87 	V88 	V89 	
V90 	V91 	V92 	V93 	V94 	V95 	V96 	V97 	V98 	V99 
V100 	V101 	V102 	V103 	V104 	V105    V106 	V107 	V108  	V109 	
V110 	V111 	V112 	V113 	V114 	V115 	V116 	V117 	V118 	V119 
V120 	V121 	V122 	V123 	V124 	V125 	V126 	V127 	V128 	V129 
V130 	V131 	V132 	V133 	V134 	V135 	V136 	V137 	V138 	V139 
V140 	V141 	V142 	V143 	V144 	V145 	V146 	V147 	V148 	V149 
V150 	V151 	V152 	V153 	V154 	V155 	V156 	V157 	V158 	V159 
V160 	V161 	V162 	V163 	V164 	V165 	V166 	V167 	V168 	V169 
V170 	V171 	V172 	V173 	V174 	V175 	V176 	V177 	V178 	V179 
;
RUN;

options pageno=1;

PROC CONTENTS DATA=ALL; RUN;

PROC FREQ DATA=ALL; TABLES V172-V179 V10; TITLE'Doit'; RUN;

PROC PRINT DATA=ALL; TITLE'Doit'; RUN;

PROC PRINT DATA=ALL; VAR V4 V10; TITLE'Doit'; RUN;

*~;
*~;
PROC FREQ DATA=ALL;  TITLE'June 29,2009 (processvartext062909)'; RUN;

